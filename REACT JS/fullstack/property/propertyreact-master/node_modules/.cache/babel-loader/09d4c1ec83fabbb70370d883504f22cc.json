{"ast":null,"code":"import _classCallCheck from \"/home/neosoft/Desktop/REACT JS/fullstack/property/propertyreact-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/neosoft/Desktop/REACT JS/fullstack/property/propertyreact-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/neosoft/Desktop/REACT JS/fullstack/property/propertyreact-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/neosoft/Desktop/REACT JS/fullstack/property/propertyreact-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/neosoft/Desktop/REACT JS/fullstack/property/propertyreact-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/neosoft/Desktop/REACT JS/fullstack/property/propertyreact-master/src/App.js\";\nimport React, { Component } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport jwt_decode from \"jwt-decode\";\nimport store from \"./store/store\";\nimport { Header, Footer } from \"./components/\";\nimport Routes from \"./routes/routes\";\nimport { setCurrentUser, logoutUser, clearCurrentUser } from \"./store/actions/authActions\";\nimport setAuthToken from \"./utils/setAuthToken\";\nimport \"react-toastify/dist/ReactToastify.css\"; // Check for token\n\nif (localStorage.jwtToken) {\n  // Set auth token header auth\n  setAuthToken(localStorage.jwtToken); // Decode token and get user info and exp\n\n  var decoded = jwt_decode(localStorage.jwtToken); // Set user and isAuthenticated\n\n  store.dispatch(setCurrentUser(decoded)); // Check for expired token\n\n  var currentTime = Date.now() / 1000;\n\n  if (decoded.exp < currentTime) {\n    // Logout user\n    store.dispatch(logoutUser()); // Clear current Profile\n\n    store.dispatch(clearCurrentUser()); // store.dispatch(clearCurrentProfile());\n    // Redirect to login\n\n    window.location.href = \"/login\";\n  }\n}\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    _classCallCheck(this, App);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(App).apply(this, arguments));\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Provider, {\n        store: store,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(BrowserRouter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, React.createElement(ToastContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }), React.createElement(Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }), React.createElement(Routes, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }), React.createElement(Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/home/neosoft/Desktop/REACT JS/fullstack/property/propertyreact-master/src/App.js"],"names":["React","Component","ToastContainer","BrowserRouter","Provider","jwt_decode","store","Header","Footer","Routes","setCurrentUser","logoutUser","clearCurrentUser","setAuthToken","localStorage","jwtToken","decoded","dispatch","currentTime","Date","now","exp","window","location","href","App"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,cAAT,QAA+B,gBAA/B;AACA,SAASC,aAAT,QAA8B,kBAA9B;AACA,SAASC,QAAT,QAAyB,aAAzB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,KAAP,MAAkB,eAAlB;AACA,SAASC,MAAT,EAAiBC,MAAjB,QAA+B,eAA/B;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,SACEC,cADF,EAEEC,UAFF,EAGEC,gBAHF,QAIO,6BAJP;AAKA,OAAOC,YAAP,MAAyB,sBAAzB;AACA,OAAO,uCAAP,C,CAEA;;AACA,IAAIC,YAAY,CAACC,QAAjB,EAA2B;AACzB;AACAF,EAAAA,YAAY,CAACC,YAAY,CAACC,QAAd,CAAZ,CAFyB,CAGzB;;AACA,MAAMC,OAAO,GAAGX,UAAU,CAACS,YAAY,CAACC,QAAd,CAA1B,CAJyB,CAKzB;;AACAT,EAAAA,KAAK,CAACW,QAAN,CAAeP,cAAc,CAACM,OAAD,CAA7B,EANyB,CAQzB;;AACA,MAAME,WAAW,GAAGC,IAAI,CAACC,GAAL,KAAa,IAAjC;;AACA,MAAIJ,OAAO,CAACK,GAAR,GAAcH,WAAlB,EAA+B;AAC7B;AACAZ,IAAAA,KAAK,CAACW,QAAN,CAAeN,UAAU,EAAzB,EAF6B,CAG7B;;AACAL,IAAAA,KAAK,CAACW,QAAN,CAAeL,gBAAgB,EAA/B,EAJ6B,CAK7B;AACA;;AACAU,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,QAAvB;AACD;AACF;;IAEKC,G;;;;;;;;;;;;;6BACK;AACP,aACE,oBAAC,QAAD;AAAU,QAAA,KAAK,EAAEnB,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAGE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHF,EAIE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,CADF,CADF,CADF;AAYD;;;;EAdeL,S;;AAiBlB,eAAewB,GAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport jwt_decode from \"jwt-decode\";\nimport store from \"./store/store\";\nimport { Header, Footer } from \"./components/\";\nimport Routes from \"./routes/routes\";\nimport {\n  setCurrentUser,\n  logoutUser,\n  clearCurrentUser\n} from \"./store/actions/authActions\";\nimport setAuthToken from \"./utils/setAuthToken\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\n// Check for token\nif (localStorage.jwtToken) {\n  // Set auth token header auth\n  setAuthToken(localStorage.jwtToken);\n  // Decode token and get user info and exp\n  const decoded = jwt_decode(localStorage.jwtToken);\n  // Set user and isAuthenticated\n  store.dispatch(setCurrentUser(decoded));\n\n  // Check for expired token\n  const currentTime = Date.now() / 1000;\n  if (decoded.exp < currentTime) {\n    // Logout user\n    store.dispatch(logoutUser());\n    // Clear current Profile\n    store.dispatch(clearCurrentUser());\n    // store.dispatch(clearCurrentProfile());\n    // Redirect to login\n    window.location.href = \"/login\";\n  }\n}\n\nclass App extends Component {\n  render() {\n    return (\n      <Provider store={store}>\n        <BrowserRouter>\n          <React.Fragment>\n            <ToastContainer />\n            <Header />\n            <Routes />\n            <Footer />\n          </React.Fragment>\n        </BrowserRouter>\n      </Provider>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}