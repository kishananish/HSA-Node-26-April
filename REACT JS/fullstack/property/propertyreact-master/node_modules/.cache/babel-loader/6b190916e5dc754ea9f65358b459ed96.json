{"ast":null,"code":"import _defineProperty from \"/home/neosoft/Desktop/REACT JS/fullstack/property/propertyreact-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/neosoft/Desktop/REACT JS/fullstack/property/propertyreact-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/neosoft/Desktop/REACT JS/fullstack/property/propertyreact-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/neosoft/Desktop/REACT JS/fullstack/property/propertyreact-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/neosoft/Desktop/REACT JS/fullstack/property/propertyreact-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/neosoft/Desktop/REACT JS/fullstack/property/propertyreact-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/neosoft/Desktop/REACT JS/fullstack/property/propertyreact-master/src/views/visitor/LoginPage/LoginPage.jsx\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport LoginPageUI from \"./LoginPageUI\";\nimport * as actions from \"../../../store/actions\";\nimport { Input } from \"../../../components\";\n\nvar LoginPage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(LoginPage, _React$Component);\n\n  function LoginPage() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, LoginPage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(LoginPage)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      email: \"\",\n      password: \"\",\n      errors: {}\n    };\n\n    _this.onFormSubmit = function (e) {\n      e.preventDefault();\n      var loginDetail = {\n        email: _this.state.email,\n        password: _this.state.password\n      };\n\n      _this.props.loginUser(loginDetail);\n    };\n\n    _this.onInputChange = function (_ref) {\n      var currentTarget = _ref.currentTarget;\n\n      _this.setState(_defineProperty({}, currentTarget.name, currentTarget.value));\n    };\n\n    return _this;\n  }\n\n  _createClass(LoginPage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.auth.isAuthenticated) {\n        this.props.history.push(\"/agent/dashboard\");\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.props.clearError();\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.auth.isAuthenticated) {\n        this.props.history.push(\"/agent/dashboard\");\n      }\n\n      if (nextProps.errors) {\n        this.setState({\n          errors: nextProps.errors\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var err;\n\n      if (this.props.errors) {\n        err = React.createElement(\"p\", {\n          className: \"text-center text-danger\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        }, this.props.errors.error);\n      }\n\n      return React.createElement(LoginPageUI, {\n        onFormSubmit: this.onFormSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, err, React.createElement(Input, {\n        label: \"Your Email\",\n        placeholder: \"email...\",\n        name: \"email\",\n        onChange: this.onInputChange,\n        value: this.state.value,\n        error: this.props.errors.email,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }), React.createElement(Input, {\n        label: \"Password\",\n        type: \"password\",\n        placeholder: \"password...\",\n        name: \"password\",\n        onChange: this.onInputChange,\n        value: this.state.value,\n        error: this.props.errors.password,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return LoginPage;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    message: state.message,\n    errors: state.errors,\n    auth: state.auth\n  };\n};\n\nexport default connect(mapStateToProps, actions)(LoginPage);","map":{"version":3,"sources":["/home/neosoft/Desktop/REACT JS/fullstack/property/propertyreact-master/src/views/visitor/LoginPage/LoginPage.jsx"],"names":["React","connect","LoginPageUI","actions","Input","LoginPage","state","email","password","errors","onFormSubmit","e","preventDefault","loginDetail","props","loginUser","onInputChange","currentTarget","setState","name","value","auth","isAuthenticated","history","push","clearError","nextProps","err","error","Component","mapStateToProps","message"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport LoginPageUI from \"./LoginPageUI\";\nimport * as actions from \"../../../store/actions\";\nimport { Input } from \"../../../components\";\n\nclass LoginPage extends React.Component {\n  state = { email: \"\", password: \"\", errors: {} };\n\n  componentDidMount() {\n    if (this.props.auth.isAuthenticated) {\n      this.props.history.push(\"/agent/dashboard\");\n    }\n  }\n  componentWillUnmount() {\n    this.props.clearError();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.auth.isAuthenticated) {\n      this.props.history.push(\"/agent/dashboard\");\n    }\n\n    if (nextProps.errors) {\n      this.setState({ errors: nextProps.errors });\n    }\n  }\n\n  onFormSubmit = e => {\n    e.preventDefault();\n    const loginDetail = {\n      email: this.state.email,\n      password: this.state.password\n    };\n\n    this.props.loginUser(loginDetail);\n  };\n\n  onInputChange = ({ currentTarget }) => {\n    this.setState({\n      [currentTarget.name]: currentTarget.value\n    });\n  };\n  render() {\n    let err;\n\n    if (this.props.errors) {\n      err = (\n        <p className=\"text-center text-danger\">{this.props.errors.error}</p>\n      );\n    }\n\n    return (\n      <LoginPageUI onFormSubmit={this.onFormSubmit}>\n        {err}\n        <Input\n          label=\"Your Email\"\n          placeholder=\"email...\"\n          name=\"email\"\n          onChange={this.onInputChange}\n          value={this.state.value}\n          error={this.props.errors.email}\n        />\n\n        <Input\n          label=\"Password\"\n          type=\"password\"\n          placeholder=\"password...\"\n          name=\"password\"\n          onChange={this.onInputChange}\n          value={this.state.value}\n          error={this.props.errors.password}\n        />\n      </LoginPageUI>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    message: state.message,\n    errors: state.errors,\n    auth: state.auth\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  actions\n)(LoginPage);\n"]},"metadata":{},"sourceType":"module"}